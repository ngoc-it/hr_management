import "package:flutter/material.dart";
import 'package:flutter_application_1/view/login_screen.dart';
import 'package:flutter_application_1/view/worker_details_screen.dart';
import 'package:flutter_vector_icons/flutter_vector_icons.dart';

class HomeScreen extends StatefulWidget {
  const HomeScreen({super.key});

  @override
  State<HomeScreen> createState() => _HomeScreenState();
}

class _HomeScreenState extends State<HomeScreen> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: SafeArea(                              //ƒê·∫£m b·∫£o ND hi·ªÉn th·ªã trong v√πng an to√†n ko b·ªã che b·ªüi c√°c th√†nh ph·∫ßn h·ªá th·ªëng vd: thanh di·ªÅu h∆∞·ªõng.
        child: SingleChildScrollView(              //Cho ph√©p cu·ªôn khi n·ªôi dung v∆∞·ª£t qu√° m√†n h√¨nh (scroll), ch·ª©a 1 widget "ph·ª©c t·∫°p"
          child: Column(                           //Widget b·ªë c·ª•c nh∆∞ m·ªôt container, s·∫Øp x·∫øp c√°c widget con theo chi·ªÅu d·ªçc
            crossAxisAlignment:                    //C√°c WD con trong column c√≥ th·ªÉ cƒÉn ch·ªânh theo tr·ª•c Y
            CrossAxisAlignment.start,              //CƒÉn ch·ªânh WD con b·∫Øt ƒë·∫ßu t·ª´ ph√≠a tr√°i m√†n h√¨nh
            children: [                            //Danh s√°ch c√°c WD con m√† column hi·ªÉn th·ªã theo chi·ªÅu d·ªçc Y
              Padding(padding: EdgeInsets.symmetric(horizontal: 20, vertical: 7), //G√≥i widget con b√™n trong padding c√°ch ƒë·ªÅu tr√°i ph·∫£i(hor) 20px tr√™n d∆∞·ªõi(ver) 20px
              child: Row(                          //Gi·ªëng column nh∆∞ng theo chi·ªÅu ngang tr·ª•c X
                mainAxisAlignment:                 //T∆∞∆°ng t·ª± ph√≠a tr√™n nh∆∞ng l√† trong Row tr·ª•c X
                MainAxisAlignment.spaceBetween,    //C√°c WD con ƒëc s·∫Øp x·∫øp cƒÉn ƒë·ªÅu, v·ªõi c√°c WD ƒë·∫ßu ti√™n cƒÉn tr√°i v√† WD cu·ªëi c√πng cƒÉn ph·∫£i
                children: [                        //T∆∞∆°ng t·ª± ph√≠a tr√™n nh∆∞ng theo ng·ªØ c·∫£nh th√¨ hi·ªÉn th·ªã theo tr·ª•c X
                  
                  Column(                          //·ªû ƒë√¢y ta s·∫Ω t·∫°o ti·∫øp m·ªôt WD Column b√™n trong Row
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      Text(
                        "Bu·ªïi s√°ng",
                        style: TextStyle(                     //ƒê·ªãnh d·∫°ng cho vƒÉn b·∫£n
                          fontSize: 18,
                          fontWeight: FontWeight.bold,        //In ƒë·∫≠m
                        ),
                      ),
                      SizedBox(height: 5),                    //T·∫°o kho·∫£ng c√°ch 5px theo chi·ªÅu d·ªçc
                      Text(
                        "Ng√†y 24/09/2024",
                        style: TextStyle(
                          color: Colors.black45,
                        ),
                      ),
                    ],
                  ),
GestureDetector(
  onTap: () {
    // X·ª≠ l√Ω s·ª± ki·ªán khi ng∆∞·ªùi d√πng nh·∫•n v√†o n√∫t
    // Thay ƒë·ªïi trang sang trang ƒëƒÉng nh·∫≠p ·ªü ƒë√¢y
    Navigator.push(
      context,
      MaterialPageRoute(builder: (context) => LoginScreen()), // Chuy·ªÉn ƒë·∫øn trang ƒëƒÉng nh·∫≠p
    );
  },
  child: Container(
    height: 50,
    width: 50,
    decoration: BoxDecoration(
      borderRadius: BorderRadius.circular(15),
      color: Colors.blueAccent,
      image: DecorationImage(
        image: AssetImage("assets/user1.jpg"),
        fit: BoxFit.cover,
      ),
    ),
  ),
),

                ],
              ),
              ),
              // SizedBox(height: 10),                            
              // Padding(
              //   padding: EdgeInsets.symmetric(horizontal: 20), 
              //   child: SizedBox(                               //Quy ƒë·ªãnh k√≠ch th∆∞·ªõc c·ªßa widget
              //     height: 40,                                  //·ªû ƒë√¢y c√≥ th·ªÉ th·∫•y chi·ªÅu cao ƒëc qƒë l√† 50px
              //     child: TextField(                            //T·∫°o √¥ nh·∫≠p li·ªáu vƒÉn b·∫£n
              //       decoration: InputDecoration(               
              //         enabled: false,                          //Ch·∫∑n kh√¥ng cho nh·∫≠p
              //         border: OutlineInputBorder(
              //           borderRadius: BorderRadius.circular(25),
              //           borderSide: BorderSide.none,            //Kh√¥ng v·∫Ω ƒë∆∞·ªùng vi·ªÅn cho √¥ nh·∫≠p
              //         ),
              //         prefixIcon: Icon(Feather.search,          //ƒê·∫∑t bi·ªÉu t∆∞·ª£ng k√≠nh l√∫p ph√≠a trc √¥ nh·∫≠p
              //        color: Colors.black,size: 30,),  
              //        fillColor: const Color.fromARGB(255, 233, 233, 233),             //ƒê·∫∑t m√†u n·ªÅn cho √¥ nh·∫≠p
              //        filled: true,                              //ƒê·∫£m b·∫£o m√†u n·ªÅn ƒë∆∞·ª£c hi·ªÉn th·ªã (true)
              //       ),
              //     ),
              //   ),
              // ),
              SizedBox(height: 20),
             Padding(padding: EdgeInsets.symmetric(horizontal: 20),
             child: Text("L·ªãch l√†m vi·ªác",
             style: TextStyle(
              fontSize: 16,
              fontWeight: FontWeight.bold,
             ),
             ),
             ),
             SizedBox(height: 10),
             ListView(
              shrinkWrap: true,                                           //V·ªõi thu·ªôc t√≠nh n√†y Listview s·∫Ω ch·ªâ chi·∫øm ko gian v·ª´a ƒë·ªß ƒë·ªÉ hi·ªÉn th·ªã t√°t c·∫£ c√°c ph·∫ßn t·ª≠ c·ªßa n√≥
              physics: NeverScrollableScrollPhysics(),                    //Lo·∫°i b·ªè kh·∫£ nƒÉng cu·ªôn c·ªßa listview, ko th·ªÉ cu·ªôn k·ªÉ c·∫£ khi c√≥ nhi·ªÅu ph·∫ßn t·ª≠ h∆°n trong kh√¥ng gian c√≥ s·∫µn
              padding: EdgeInsets.symmetric(horizontal: 20),
              children: [
                userWorkedWith(
                  "V√†o ca",
                  "assets/user1.jpg",
                  const Color.fromARGB(255, 44, 9, 147),
                  "07:38",
                ),
                // userWorkedWith(
                //   "Henry Jack",
                //   "assets/user3.jpg",
                //   Colors.grey,
                //   "Developer",
                // ),
                // userWorkedWith(
                //   "Harry Lu",
                //   "assets/user4.jpg",
                //   Colors.grey,
                //   "HR Specialist",
                // ),
              ],
             ),
              SizedBox(height: 20),
              Padding(padding: EdgeInsets.symmetric(horizontal: 20),
              child: Text("Ch·ª©c nƒÉng",                           //T·∫°o widget n·ªôi dung
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
               ),
              ),
             ),
             SizedBox(height: 10),
             SizedBox(height: 125,
             child: ListView(
              scrollDirection: Axis.horizontal,                  //Ch·ªâ ƒë·ªãnh h∆∞·ªõng cu·ªôn c√°c ph·∫ßn t·ª≠ theo chi·ªÅu ngang (X)
              children: [
                SizedBox(width: 20),                             //T·∫°o kho·∫£ng c√°ch 20px theo chi·ªÅu ngang
                departmentCard(                                  //H√†m chi ti·∫øt cho DS ph√≤ng ban
                  "Nh√¢n s·ª±",                                  //T√™n phong ban
                  2,                                             //S·ªë l∆∞·ª£ng nv ph√≤ng ban
                  "Scrum Master",                                //Ch·ª©c danh cv ch√≠nh trong ph√≤ng ban
                  Colors.blueAccent,                           //M√†u s·∫Øc ƒë·∫°i di·ªán
                  "üìä",                                          //Bi·ªÉu t∆∞·ª£ng ƒë·∫°i di·ªán
                ),
                departmentCard(
                  "Ch·∫•m c√¥ng", 
                  5, 
                  "Developer", 
                  Colors.greenAccent, 
                  "üñ•Ô∏è",
                ),
                departmentCard(
                  "X·∫øp ca", 
                  2, 
                  "Designer", 
                  Colors.orangeAccent, 
                  "üñåÔ∏è",
                ),
                departmentCard(
                  "T√≠nh l∆∞∆°ng", 
                  3, 
                  "Test Engineer", 
                  Colors.redAccent, 
                  "üîé",
                ),
              ],
             ),
             ),
             SizedBox(height: 10),
             SizedBox(height: 125,
             child: ListView(
              scrollDirection: Axis.horizontal,
              children: [
                SizedBox(width: 20),
                departmentCard(
                  "Ph√¢n c√¥ng", 
                  2, 
                  "Accountant", 
                  Colors.pinkAccent, 
                  "üíµ",
                ),
                departmentCard(
                  "Ti·∫øn ƒë·ªô d·ª± √°n", 
                  2, 
                  "Sales Manager", 
                  Colors.yellowAccent, 
                  "üì¶",
                ),
                departmentCard(
                  "Marketing", 
                  2, 
                  "Content Marketer", 
                  Colors.purpleAccent, 
                  "üì¢",
                ),
                departmentCard(
                  "HR", 
                  2, 
                  "HR Specialist", 
                  Colors.blueGrey, 
                  "üìë",
                ),
              ],
             ),
             ),
            ],
          ),
        ),
      ),
    );
  }

Widget userWorkedWith(String name, String image, Color color, String jobTitle){       //ƒêinh nghƒ©a m·ªôt h√†m, truy·ªÅn tham s·ªë 
  return Padding(padding: EdgeInsets.only(bottom: 10),
  child: InkWell(                                                                     //Widget t∆∞∆°ng t√°c, k√≠ch ho·∫°t s·ª± ki·ªán khi ƒë∆∞·ª£c ch·∫°m v√†o
    onTap: (){                                                                        //S·ª± ki·ªán onTap dduoc k√≠ch ho·∫°t
      Navigator.push(                                                                //ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn m√†n h√¨nh WorkerDetailsScreen. S·ª≠ d·ª•ng Navigator.push ƒë·ªÉ chuy·ªÉn sang trang m·ªõi
          context,  
          MaterialPageRoute(
          builder: (context) => ShiftSelectionScreen(
        ),
      ),);
    },
    child: Container(
      width: double.infinity,
      height: 70,
      decoration: BoxDecoration(
        color: color.withOpacity(0.3),
        borderRadius: BorderRadius.circular(20),
      ),
      child: Center(
        child: ListTile(
          leading: Container(
            height: 45,
            width: 45,
            decoration: BoxDecoration(
              borderRadius: BorderRadius.circular(15),
              color: Colors.blueAccent,
              image: DecorationImage(
                image: AssetImage(image),
                fit: BoxFit.cover,
              ),
            ),
          ),
          title: Text(name, style: TextStyle(
            fontSize: 15,
            fontWeight: FontWeight.bold,
          )),
        subtitle: Text(jobTitle, style: TextStyle(
          color: Colors.black54,
        )),
        trailing: Container(
          height: 25,
          width: 25,
          decoration: BoxDecoration(
            color: color.withOpacity(0.3),
            borderRadius: BorderRadius.circular(5),
          ),
          child: Padding(
            padding: EdgeInsets.all(4),
            child: Center(
              child: Icon(
                FontAwesome5Regular.edit,
                size: 18,
              ),
            ),
            ),
        ),
        ),
      ),
    ),
  ),
  );
}

  Widget departmentCard(String name, int number, String title, Color color, String emoji){
    return Padding(
      padding: EdgeInsets.only(right: 20),
      child: Container(
        width: 150,
        decoration: BoxDecoration(
          color: color.withOpacity(0.3),
          borderRadius: BorderRadius.circular(20),
        ),
        child: Padding(
          padding: EdgeInsets.all(15),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Container(
                height: 30,
                width: 30,
                decoration: BoxDecoration(
                  color: Colors.white.withOpacity(0.5),
                  borderRadius: BorderRadius.circular(10),
                ),
                child: Center(
                  child: Text(emoji,
                  style: TextStyle(fontSize: 18),
                  ),
                ),
              ),
              SizedBox(height: 2),
              Text(
                name, 
                style: TextStyle(
                  fontSize: 15, 
                  fontWeight: FontWeight.bold,
                ),
              ),
              SizedBox(height: 2),
              Text(
                number.toString() + " " + title, 
                style: TextStyle(
                  color: Colors.black54,
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}